---
layout: post
title: (1)简单工厂和策略模式
date: 2017-04-28 20:02
description: 本章开始记录Designed Patterns系列读书笔记
tag: design patterns
---

> Design patterns 从大三开始就想学，可惜当时工程项目经验几乎为0看不下去。如今工作一年了，而且近期也有时间，
> 最适合攻下这个程序员必须课程了。工作期间有写过单例模式、简单工厂模式这些很简单的设计模式，当时仅仅只是项目上总结出
> 来的，因此理解也很深刻。刚开始本想直接杀入GOF的design patterns，当时看来前几章感觉很抽象，虽然书中有代码，但是还是
> 对我理解帮助不大，可能工作时主要研究算法，对软件架构方面还是经验过少。于是便先从大话设计模式这本看起，配合自己项目练习，
> 希望等学习完大话后，再来看GOF的能够比较轻松理解里面的大部分内容
:blush:

## **1. UML类图简单助记**

+ 继承：使用空心三角形+实线表示

+ 实现接口：使用空心三角形+虚线表示

+ 关联：使用实箭头

+ 聚合：使用空心菱形+实箭头

+ 组合：使用实心菱形+实箭头

+ 依赖：使用虚箭头

**_关联、聚合、组合、依赖的区别_**

1. 依赖：假设A依赖B，表现在代码中即A的函数中用到B作为参数，这是一种很弱的关系

2. 聚合和组合的关系：假设A聚合或者组合了B，则都表示一种部分与整体的关系。其中聚合关系中B可以独立于A存在；组合关系中B是无法独立于A，即A与B的生命周期相同，例如A构造
函数中初始化B的类对象

3. 若A关联B，则可以表现为A中有B类对象作为属性，A与B之间可以是单向、双向的，它们之间是平等的，不是部分和整体的关系。

## **2. 简单工厂模式和策略模式**

这两种模式非常像，通过一个抽象的类Super或者Strategy类来定义功能接口，通过具体的子类来实现相应特定的功能或者策略，并在
Factory或者Contex中依据条件实例化相应的之类，以供Client调用。当**简单工厂与策略模式相结合时**，相比于简单工厂与策略模式
暴露给Client的是Factory/Contex和Super/子类，而简单工厂与策略模式结合时暴露给Client的仅仅只有管理策略的Contex类，进一步解耦化。
策略模式封装了算法，也可以用来封装几乎任何类型的规则。
