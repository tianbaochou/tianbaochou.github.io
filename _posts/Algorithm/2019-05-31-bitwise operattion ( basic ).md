---
layout: post
title: 两种判断大小方式
date: 2019-05-31 11：17
description: 本章介绍了两种不用if-else判断两个数大小的方法
tag: Algorithm
---


## 背景

事情的经过是这样的，某天，突然看到网上有人问如何不用if-else语句、switch等判断语句来找出两个数中比较大的数
emmm....

## 想法

### 1. 利用等价公式

不妨假设$a \leq b$, 则

$$
\begin{align*}
a = ((a + b) + \vert a - b \vert)/2 \\
b = ((a + b)) - \vert a - b \vert)/2
\end{align*}
$$

上述公式在数学推导中会用到的等价变换，但是涉及到求绝对值，执行效率同比较操作相差不大。
因此，我们可以考虑如何不用求绝对值

### 2. 去除绝对值

绝对值的意义在于使得绝对值里面的数差值为正数。
我们对各种情况进行讨论：

+ 假设 $a > b$, 则$\frac{a}{b} > 0,  \frac{b}{a} = 0$, 则大的数为 $a = a * \frac{(a/b)}{(a/b)}$ 
+ 假设 $a = b$, 则$\frac{a}{b} = 1$, 则大的数为$\frac{a+b}{2}$
+ 假设 $b > a$, 则$ \frac{b}{a} > 0, \frac{a}{b} = 0$, 则大的数为 $b = b * \frac{(b/a)}{(b/a)}$

合并后为$a * (a/b) + b * (b/a) / (a/b+ b/a)$

### 3. 利用位运算

计算机组成原理，或者体系结构中告诉我们，计算机比较两个数的大小时是通过将两个数相减，根据标志位(符号位）的状态来判断大小，因此，我们可以通过将$a-b$判断最高位符号位是否位为1来得出大小.

```c++
#define MAX(X,Y) (((X) -(Y)) & (1 << 31)) ? (Y) : (X)
```

但是这种方法需要借助于三目运算符，本质上也是一种比较，故我们需要一种方法，不用三目运算符就能得出大的数，由于$a-b$的最高位可以表示为
$$
I(a,b) = \left\{
    \begin{aligned} 
    0 &,& a \leq b \\
    1 &,& a < b 
    \end{aligned}
    \right.
$$
因此，我们可以写为$a - (a - b)*I(a,b)$

```c++
#define MAX(X,Y) ((X) - ((X) - (Y)) * (((X) - (Y)) >> 31) & 1
```